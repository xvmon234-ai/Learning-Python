# **Day 4 학습 목표: Pandas 데이터 선택 및 조작 마스터하기**

Day 4 학습의 목표는 Pandas DataFrame에서 데이터를 효율적으로 **선택**하고, **필터링**하며, **컬럼을 추가/삭제**하는 핵심적인 방법들을 완전히 숙달하는 것입니다. 이를 통해 실제 데이터 분석 시 가장 빈번하게 사용되는 데이터 접근 및 처리 기술에 대한 확고한 기반을 다지고, 복잡한 데이터 조작 작업을 자신 있게 수행할 수 있습니다.

특히, 다음의 핵심 개념들을 중점적으로 다룹니다:

  * **정확한 데이터 선택**: `loc[]` (라벨 기반) 및 `iloc[]` (위치 기반) 인덱싱을 통해 원하는 데이터를 정확히 찾아내는 방법.
  * **유연한 데이터 필터링**: 불리언 인덱싱, `isin()`, 그리고 문자열 메서드(`str.contains()`)를 활용하여 다양한 조건에 맞는 데이터를 추출하는 방법.
  * **데이터 구조 변경**: DataFrame에 새로운 컬럼을 추가하거나 불필요한 컬럼을 삭제하여 데이터를 분석에 적합한 형태로 변형하는 방법.

-----

## **Day 4 학습 내용 정리 (README.md 형식)**

### **1. 데이터 선택: 컬럼 선택**

  * **관련 이론**:

      * **🌟🌟🌟 단일 컬럼 선택**: `df['컬럼명']`을 사용하며, 결과는 **Series**로 반환됩니다.
      * **🌟🌟🌟 여러 컬럼 선택**: `df[['컬럼명1', '컬럼명2', ...]]`을 사용하며, 결과는 **DataFrame**으로 반환됩니다.

  * **암기할 사항**:

      * `df['단일 컬럼명']` $\\rightarrow$ Series
      * `df[['여러', '컬럼명']]` $\\rightarrow$ DataFrame (**대괄호 두 개** 사용\!)

  * **문제 (하)**:

      * **문제 4.1: 단일 컬럼 선택**
          * 다음 데이터를 사용하여 DataFrame을 생성하고, `'Product'` 컬럼만 선택하여 출력해보세요.
        <!-- end list -->
        ```
        OrderID,Product,Quantity,Price
        1,Laptop,1,1200
        2,Mouse,2,25
        3,Keyboard,1,75
        4,Monitor,1,300
        ```
      * **목표**: `df['컬럼명']`의 기본 사용법을 익히고 Series 반환을 확인합니다.
      * **가이드**: `pandas` 라이브러리의 `read_csv`와 `StringIO`를 사용하여 DataFrame을 생성한 뒤, 단일 대괄호를 사용하여 `'Product'` 컬럼을 선택하세요.


[▶️ **정답 코드 보러가기**](./solutions/day4_col.py)


[📚 **추가 학습 보러가기**](./further_study/series_dataframe.py)


-----

### **2. 데이터 선택: 행 선택 (`.loc[]`와 `.iloc[]` 활용)**

  * **관련 이론**:

      * **🌟🌟🌟 `.loc[]` (Label-based indexing)**: 인덱스 \*\*라벨(이름)\*\*을 기반으로 데이터를 선택합니다. 슬라이싱 시 **끝 인덱스를 포함**합니다.
          * 단일 라벨: `df.loc['인덱스이름']`
          * 여러 라벨: `df.loc[['인덱스이름1', '인덱스이름2']]`
          * 슬라이싱: `df.loc['시작인덱스':'끝인덱스']`
          * 행/열 동시 선택: `df.loc[행라벨, 열라벨]`, `df.loc[:, '컬럼명']`
      * **🌟🌟🌟 `.iloc[]` (Integer-location based indexing)**: 정수 \*\*위치(0부터 시작)\*\*를 기반으로 데이터를 선택합니다. 슬라이싱 시 **끝 위치를 미포함**합니다.
          * 단일 위치: `df.iloc[위치정수]`
          * 여러 위치: `df.iloc[[위치정수1, 위치정수2]]`
          * 슬라이싱: `df.iloc[시작위치:끝위치]`
          * 행/열 동시 선택: `df.iloc[행위치, 열위치]`, `df.iloc[:, 열위치]`

  * **암기할 사항**:

      * `.loc[]`: \*\*이름(라벨)\*\*으로 찾을 때 (**끝 인덱스 포함**)
      * `.iloc[]`: \*\*숫자 위치(순서)\*\*로 찾을 때 (**끝 인덱스 미포함**)
      * **오답/주의 사항**:
          * `.iloc[]`로 여러 인덱스를 선택할 때는 반드시 **리스트(`[]`) 형태**로 `df.iloc[[0, 2]]`와 같이 전달해야 합니다. 튜플(`()`)을 사용하면 오류가 발생할 수 있습니다.
          * `pd.read_csv()` 함수에 **`index_col` 파라미터**를 사용하면 CSV 로드 시 특정 컬럼을 바로 인덱스로 지정할 수 있습니다.
          * `set_index()` 메서드는 DataFrame 생성 **후에** 인덱스를 설정하는 데 사용합니다.

  * **문제 (하)**:

      * **문제 4.2: 행 위치 기반 선택 (`.iloc[]` 활용)**
          * 위 **4.1 문제**에서 생성한 DataFrame에서 `.iloc[]`을 사용하여 첫 번째 행과 세 번째 행만 선택하여 출력해보세요.
      * **목표**: `.iloc[]`를 사용하여 특정 위치의 행을 정확히 선택하는 방법을 연습합니다.
      * **가이드**: 리스트(`[]`) 안에 원하는 행의 정수 인덱스(0부터 시작)를 넣어 `.iloc[]`에 전달하세요.

[▶️ **정답 코드 보러가기**](./solutions/day4_iloc.py)



  * **문제 (중)**:

      * **문제 4.3: 여러 컬럼 선택 및 행 라벨 기반 선택 (`.loc[]` 활용)**
          * 다음 데이터를 사용하여 DataFrame을 생성하세요. 이때 `'StudentID'`를 인덱스로 설정합니다.
        <!-- end list -->
        ```
        StudentID,Name,Math,English,Grade
        S001,Alice,90,85,A
        S002,Bob,78,80,B
        S003,Charlie,95,92,A
        S004,David,60,70,C
        ```
        1.  DataFrame에서 `'Name'`과 `'Grade'` 컬럼만 선택하여 출력하세요.
        2.  인덱스 라벨을 사용하여 `'S002'` 학생의 모든 정보(행)를 선택하여 출력하세요.
      * **목표**: `df[['컬럼1', '컬럼2']]`를 사용한 다중 컬럼 선택과 `df.loc['인덱스이름']`을 사용한 라벨 기반 행 선택을 숙달합니다.
      * **가이드**:
        1.  두 개의 대괄호를 사용하여 컬럼 이름을 리스트로 묶어 선택하세요.
        2.  DataFrame 생성 시 `index_col='StudentID'`를 사용하거나 `set_index('StudentID')`를 적용하여 `'StudentID'`를 인덱스로 설정한 후, `.loc[]`에 `'S002'` 라벨을 전달하세요.


[▶️ **정답 코드 보러가기**](./solutions/day4_loc.py)


[📚 **추가 학습 보러가기**](./further_study/name_error.py)


-----

### **3. 데이터 필터링 (조건 기반 선택) - 불리언 인덱싱, `isin()`, `str.contains()` 활용**

  * **관련 이론**:

      * **🌟🌟🌟 단일 조건 필터링**: `df[df['컬럼명'] 조건값]` 형태로 사용하며, `True`/`False`로 구성된 **불리언 Series**를 활용합니다.
      * **🌟🌟🌟 복수 조건 필터링 (AND / OR)**: 여러 조건을 `&` (AND) 또는 `|` (OR) 연산자로 연결하며, **각 조건은 반드시 소괄호 `()`로 묶어야** 합니다.
          * AND (`&`): `df[(df['컬럼1'] 조건1) & (df['컬럼2'] 조건2)]`
          * OR (`|`): `df[(df['컬럼1'] 조건1) | (df['컬럼2'] 조건2)]`
      * **🌟🌟 `.isin()`**: 특정 컬럼의 값이 여러 목록 중 **하나에 포함되는지** 확인할 때 사용합니다. 목록은 리스트 형태로 전달합니다.
      * **🌟🌟 `df['문자열컬럼'].str.contains('포함할문자열', case=False)`**: 문자열 컬럼에서 특정 문자열을 포함하는 행을 필터링합니다. `case=False`는 대소문자를 무시합니다.

  * **암기할 사항**:

      * 조건은 `df[df['컬럼'] 조건]` 형태로.
      * 다중 조건은 **`&` (AND)**, **`|` (OR)** 연산자와 **각 조건의 소괄호 `()` 사용 필수\!**
      * 문자열 포함 여부 필터링: **`.str.contains()`** (대소문자 무시 시 `case=False` 기억).
      * 목록 포함 여부 필터링: **`.isin()`** (확인할 값들을 **리스트(`[]`)로 묶어 전달**).
      * **오답/주의 사항**:
          * 필터링 결과는 원본 DataFrame을 수정하는 것이 아니라 **새로운 DataFrame을 반환**하므로, 결과를 재사용하려면 반드시 새로운 변수에 **할당**해야 합니다.
          * 불리언 Series를 만들 때 컬럼 선택은 \*\*단일 대괄호(`df["컬럼"]`)\*\*로 해야 합니다. `df[["컬럼"]]`은 DataFrame을 반환하여 `TypeError`를 발생시킬 수 있습니다.
          * `df.loc[행_조건, ['컬럼1', '컬럼2']]`와 같이 `.loc[]`을 사용할 때, 행 조건은 불리언 Series여야 하며, 열 선택 부분은 따로 `[]`로 묶어야 합니다.

  * **문제 (중)**:

      * **문제 4.4: 단일 조건 필터링**
          * 위 **4.3 문제**에서 생성한 DataFrame에서 `'Math'` 점수가 80점 이상인 학생들만 필터링하여 출력해보세요.
      * **목표**: 불리언 인덱싱을 사용하여 숫자 조건을 기준으로 DataFrame을 필터링하는 방법을 연습합니다.
      * **가이드**: `df[df['컬럼명'] 조건값]` 형태를 사용하여 `'Math'` 컬럼에 대한 조건을 적용하세요.


[▶️ **정답 코드 보러가기**](./solutions/day4_df_filtering.py)


[📚 **추가 학습 보러가기**](./further_study/axis_inplace.py)


-----

### **4. 데이터 추가 / 삭제 (컬럼 기준)**

  * **관련 이론**:

      * **🌟🌟🌟 새로운 컬럼 추가**: `df['새컬럼명'] = 값 또는 Series` 형태로 새로운 컬럼을 정의하고 값을 할당합니다.
      * **🌟🌟 `del df['컬럼명']` 또는 `df.drop('컬럼명', axis=1, inplace=True)`**: 컬럼 삭제. `drop` 메서드가 더 유연하고 권장됩니다.
          * `axis=1`: 컬럼(열)을 삭제하겠다는 의미.
          * `inplace=True`: 원본 DataFrame을 바로 수정합니다 (주의해서 사용\!).

  * **암기할 사항**:

      * 새 컬럼 추가는 \*\*할당(`=`)\*\*으로\!
      * 컬럼 삭제는 **`drop(..., axis=1)`** 또는 `del`. `inplace=True`는 원본을 바로 변경하므로 사용 시 주의하세요.
      * **추가 정보**: `drop()`은 Pandas DataFrame 객체의 \*\*메서드(Method)\*\*입니다.

  * **문제 (상)**:

      * **문제 4.5: 다중 조건 필터링 및 컬럼 추가/삭제**
          * 다음 데이터를 사용하여 DataFrame을 생성하세요.
        <!-- end list -->
        ```
        EmployeeID,Name,Department,Salary
        E001,John,HR,60000
        E002,Jane,IT,75000
        E003,Mike,IT,65000
        E004,Sarah,HR,80000
        E005,David,IT,90000
        ```
        1.  `'Department'`가 `'IT'`이면서 `'Salary'`가 70000 이상인 직원들만 필터링하여 출력하세요.
        2.  새로운 컬럼 `'Bonus'`를 추가하세요. 보너스는 `'Salary'`의 10%라고 가정합니다.
        3.  추가한 `'Bonus'` 컬럼을 삭제한 후 DataFrame을 출력하세요.
      * **목표**: `&`를 사용한 다중 조건 필터링, 새로운 컬럼 추가, 그리고 컬럼 삭제 방법을 종합적으로 연습합니다.
      * **가이드**:
        1.  각 조건을 소괄호로 묶고 `&`로 연결하여 필터링하세요.
        2.  새로운 컬럼은 `df['새컬럼명'] = ...` 형태로 할당하세요.
        3.  `drop()` 메서드를 사용하여 컬럼을 삭제하되, `axis`와 `inplace` 파라미터를 올바르게 설정하세요.


[▶️ **정답 코드 보러가기**](./solutions/day4_df_conditions.py)



  * **문제 (상)**:

      * **문제 4.6: `str.contains()` 및 `isin()` 활용 필터링**
          * 위 **4.5 문제**에서 생성한 DataFrame(단, `'Bonus'` 컬럼은 삭제되지 않은 초기 상태로)을 사용하여 다음을 수행하세요.
        <!-- end list -->
        1.  `'Name'` 컬럼에서 이름에 `'a'` 또는 `'A'`가 포함된 직원들만 `str.contains()`를 사용하여 필터링하여 출력해보세요.
        2.  `'Department'`가 `'HR'` 또는 `'Finance'`인 직원들만 `isin()` 메서드를 사용하여 필터링하여 출력해보세요.
      * **목표**: `str.contains()`를 사용한 문자열 포함 필터링과 `isin()`을 사용한 목록 포함 필터링을 연습합니다.
      * **가이드**:
        1.  `str.contains()` 메서드에 `case=False` 옵션을 사용하여 대소문자를 무시하도록 설정하세요.
        2.  `isin()` 메서드에 부서 이름 리스트를 전달하여 필터링하세요.


[▶️ **정답 코드 보러가기**](./solutions/day4_str_contains_isin.py)



[📚 **추가 학습 보러가기**](./further_study/boolean_indexing.py)


